<div class="container">
    <h1>Gestión de Usuarios</h1>
    <nav class="navbar">
      <ul class="nav-links">
        <li><a (click)="navigateTo('/usuarios')">Usuarios</a></li>
        <li><a (click)="navigateTo('/proyectos')">Proyectos</a></li>
        <li><a (click)="navigateTo('/tareas')">Tareas</a></li>
      </ul>
    </nav>
    <hr />
</div>

<div class="main-content">
  <h1>Lista de Usuarios</h1>
  
  <!-- Tabla de usuarios -->
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Email</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td>{{ user.id }}</td>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>
          <button class="btn btn-warning" (click)="onEdit(user.id)">Editar</button>
          <button class="btn btn-danger" (click)="deleteUser(user.id)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
  
  <button class="btn btn-primary" (click)="onRegister()">Registrar Nuevo Usuario</button>
</div>

<!-- Formulario de registro y edición -->
<div *ngIf="!isEditing" class="form-container">
    <h2>Registrar Nuevo Usuario</h2>
    <form (ngSubmit)="onSubmit()">
      <label for="name">Nombre:</label>
      <input type="text" [(ngModel)]="user.name" name="name" required>
      <label for="email">Correo Electrónico:</label>
      <input type="email" [(ngModel)]="user.email" name="email" required>
      <label for="password">Contraseña:</label>
      <input type="password" [(ngModel)]="user.password" name="password" required>
      
      <button type="submit" class="btn btn-success">Registrar</button>
      <button type="button" class="btn btn-secondary" (click)="cancel()">Cancelar</button>
    </form>
  </div>
<!-- Formulario de registro y edición -->
<div *ngIf="isEditing" class="form-container">
    <h2>{{ isEditing ? 'Editar Usuario' : 'Registrar Usuario' }}</h2>
    <form (ngSubmit)="onSubmit()">
      <label for="name">Nombre:</label>
      <input type="text" [(ngModel)]="user.name" name="name" required>
      <label for="email">Correo Electrónico:</label>
      <input type="email" [(ngModel)]="user.email" name="email" required>
      <label for="password">Contraseña:</label>
      <input type="password" [(ngModel)]="user.password" name="password" required>
      
      <button type="submit" class="btn btn-success">{{ isEditing ? 'Actualizar' : 'Registrar' }}</button>
      <button type="button" class="btn btn-secondary" (click)="cancel()">Cancelar</button>
    </form>
  </div>  
